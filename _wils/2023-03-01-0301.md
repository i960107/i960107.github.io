---
title: 서로소 집합을 이용한 사이클 판별/ 크루스칼 알고리즘을 이용한 최소 신장 트리/ 위상 정렬
tags:
- 23년 3월
- 알고리즘
author: 수현
---

# 그래프 이론
### 그래프와 트리의 차이:

- 그래프는 무방향(양방향)그래프로 순환이 있을 수 있다.
- 그래프는 루트가 없는 네트워크 모델이며, 트리는 루트가 있고 계층모델이다.

### 인접행렬 그래프와 인접 리스트 그래프의 차이

- **인접 행렬**의 경우 **메모리는 O(V^2)**만큼 필요하지만, A → B노드간의 비용은 O(1) 복잡도만에 알 수 있어 **속도 측면에서 우수**하다. **인접 리스트**의 경우 O(E) 메모리가 필요하지만, A→B노드간 비용을 알기 위해서는 **O(V)만큼**의 시간이 소요된다.
- 최단거리, 최소비용을 구하기 위해서 **다익스트라 알고리즘**은 우선순위 큐 + **인접 리스트** 방식을 사용하고, **플루이드-워셜**은 **인접 행렬 방식**을 취한다.
- 노드의 개수가 적다면 속도가 빠른 인접 행렬을 선택하고, 노드의 개수가 많다면 인접 리스트 방식이 더 낫다.

### 서로소 집합으로 사이클 판별하기

- 서로소 집합 자료구조란 **서로소 부분 집합들로 나누어진 원소들의 데이터를 처리**하기 위한 자료구조.
- union-find 자료구조라고도 함. 두 집합이 서로소 관계인지를 확인할 수 있다는 말은 각 집합이 어떤 원소를 공통으로 가지고 있는지를 확인할 수 있다는 말.
- 트리를 이용해 서로소 집합을 계산하는 알고리즘

    ```
    1. Union 연산을 확인하여, 서로 연결된 두 노드 A, B를 확인한다.

     - A와 B의 루트 노드 A’, B’를 각각 찾는다. A’를 B’의 부모 노드로 설정한다.(B’가 A’를 가리키도록 한다.)

    2. 모든 union연산을 처리할때까지 1번 과정을 반복한다.
    ```
- 같은 집합에 속한다는 union연산들은 간선으로 표현됨. 일반적으로 서로소 집합을 그림으로 표현할때는 번호가 큰 노드가 번호가 작은 노드를 간선으로 가리키도록 트리 구조를 이용해 그림을 그리게 됨. ⇒ ‘연결성’으로 손쉽게 집합의 형태 확인 가능.
- 루트 노드가 같은 원소끼리는 동일한 집합을 이룬다. → 무방향 그래프에서 **서로소 집합을 이용한 사이클 판별.** 방향 그래프에서는 DFS를 이용해 판별 가능.
    - find연산시 두 노드의루트 노드가 서로 같다면 cycle이 발생한 것이다.
- find함수 시간복잡도가 O(V) → 경로 압축(Path Compression기법으로 시간 복잡도 개선 가능). 부모 테이블에

### 크루스칼 알고리즘으로 최소 신장 트리 구하기

- **신장 트리**란 하나의 그래프가 있을때 **모든 노드를 포함**하면서 **사이클이 존재하지 않는** 부분 그래프를 의미한다. 트리의 성립 조건이기도 함.
    - ex) n개의 도시가 존재할때, 두 도시 사이에 도로를 놓아 전체 도시가 서로 연결될 수 있도록 도로를 건설할때 최소한의 비용으로 연결하는 방법?
- 크루스칼 알고리즘
    ```
    1. 간선 데이터를 비용에 따라 오름차순으로 정렬
    2. 간선을 하나씩 확인하며 현재의 간선이 사이클을 발생시키는지 확인.
    	- 사이클이 발생하지 않는 경우 최소 신장 트리에 포함시킨다.(union함수 호출) 
    	- 사이클이 발생하는 경우 최소 신장 트리에 포함시키지 않는다.
    
    ```
    
- 시간 복잡도는 간선을 정렬하는 O(ELogE)

### 위상 정렬

- 순서가 정해져있는 일련의 작업을 차례대로 수행해야 할때 사용
- 방향 그래프의 모든 그래프를 방향성에 거스르지 않도록 순서대로 나열하는 것
- 선수 과목을 고려한 학습 순서 결정

```
1. 진입 차수가 0인 노드를 큐에 넣는다.
2. 큐가 빌 때까지 다음의 과정을 반복한다.

- 큐에서 원소를 꺼내 해당 노드에서 출발하는 간선을 그래프에서 제거한다.
- 새롭게 진입차수가 0이 된 노드를 큐에 넣는다.
```

- 큐에서 빠져나간 노드를 순서대로 출력하면, 위상 정렬된 결과.
- 위상 정렬된 결과는 여러가지가 될 수 있다. 같은 level의 원소들 순서 바뀔 수 있음.
- 모든 원소를 방문하기 전에 큐가 빈다면 사이클이 존재한다. → 사이클이 존재하는 경우 사이클에 포함되어 있는 원소 중에서 어떠한 원소도 큐에 들어가지 못하기 때문.
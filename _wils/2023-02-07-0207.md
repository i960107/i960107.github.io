---
title: 네트워크 응용계층
tags:
- 23년 2월
- CS
author: 수현
---

## 응용 계층: 어플리케이션 데이터 전송하기

- 키워드: 서버, 웹서버, html, url, http, keepalive, www, dns, url, name resolution, 호스트이름,레지스트리

### 응용 계층의 역할

- 웹 브라우저나 메일 프로그램은 클라이언트, 웹 서버 프로그램과 메일 서버 프로그램은 응용 계층이 됨
- 어플리케이션과 데이터를 주고 받기 위해 필요하다.
- 사용자 측의 요청을 전달하기 위해 통신 대상(서버 등)이 이해할 수 있는 데이터로 변환하고 전송 계층으로 전달하는 역할. 응용 계층은 각각의 어플리케이션에 대응되는 데이터를 전송하는 역할을 함.
- 응용 계층의 **프로토콜**:
    - 웹사이트를 볼때 **HTTP 80**
    - 파일 전송시 **FTP**
    - 메일 보낼때 **SMTP 25**
    - 메일 받을때 **POP3 110**
    - **DNS**

![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/944bb421-72bc-4b7c-b386-651e2ec2c675/Untitled.png)

### 웹 서버의 구조(웹 사이트 접속)

- 웹 페이지를 접속하기 위한 프로토콜 HTTP.
- 웹 페이지에 접속하는 구조
- **www**란? world wide web. 인터넷에서 핵심적인 역할을 함. html, url, http라는 세가지 기술이 사용됨. 하나의 거대한 네트워크인 인터넷 위에서 hyperlink로 서로 연결된 거미줄 같은 구조의 자원들. 거대한 통신망인 인터넷은 수많은 사이트, 데이터, 정보를 갖고 있으며, 통신 회선이 거미줄처럼 서로 연결되어 있어서 언제 어디서든 필요한 곳에 접근하거나, 정보를 공유하고 주고받을 수 있는 멀티미디어 인터넷 서버다.
- **html**: hyper text markup langauge. 웹 페이지 구조를 태그를 사용하여 작성하는 마크업 언어. 문자와 이미지, 하이퍼링크를 사용할 수 있음. 인터넷 서비스의 하나인 www를 통해 볼 수 있는 문서를 만들때 사용
- **url**: uniform resource locator. 인터넷에서 파일 위치를 지정하기 위해 기술된 주소. 웹사이트 주소를 지정하기 위해 사용
- **http**: 클라이언트(웹 브라우저)는 웹사이트를 보기 위해 서버(웹 서버 프로그램)의 80번 포트를 사용하여 http통신을 함.
    - http/1.0버전에서는 요청을 보낼때마다 연결을 수립하고 연결을 끊는 작업을 함 (tcp세션을 중복해서 수행하는 성능 이슈) → 웹 페이지가 느리게 보임
    - http/1.1  **keepalive**기능이 추가됨. 연결을 한번 수립하면 데이터 교환을 마칠때까지 유지하고, 데이터 교환을 모두 끝내면 연결을 끊는 구조.
    - http/2.0 keepalive + 요청을 보낸 순서대로 응답을 반환받지 않아도 됨.  응답 지연이 적음(multiplexed)

### DNS의 이름 해석 구조

- **도메인 이름(url)**을 ip 주소로 변환하는 역할을 하는 DNS
- 네트워크에서 컴퓨터나 네트워크 장비에 붙여진 이름을 기반으로(**도메인 네임**) IP주소를 알아내는 것을 **이름해석**(name resolution)이라고 하는 이를 위해 **DNS**를 사용.
- [https://www.gilbut.co.kr](https://www.gilbut.co.kr) (url)
    - https:
    - www.gilbut.co.kr호스트이름(서버 이름)
    - [gilbut.co.kr](http://gilbut.co.kr) 도메인 이름
- DNS 서버는 전세계에 흩어져 있으므로 연계하면서 동작한다. 요청받은 DNS서버가 해당 도메인 이름의 IP주소를 모르면 다른 DNS서버에 질의한다.
    - 레지스트리를 기준으로 속하는 DNS 서버에 질의.

### 메일의 송수신 구조

- 컴퓨터에서 메일 서버로, 혹은 메일서버에서 메일 서버로 메일을 전송할때 SMTP프로토콜 사용
- 메일 서비스를 제공하는 포털사이트나 회사의 메일 서버에 메일을 보낸다. (메일 서버의 호스트 이름을 사용). SMTP프로토콜 사용
    1. 세션 시작을 통지한다
    2. 송신자의 메일 주소를 통지한다
    3. 목적지 메일 주소를 통지한다
    4. 메일 보본문 전송을 통지한다
    5. 메일 본문을 송신한다
    6. 세션 종룔를 통지한다.
- 메일 서버는 **메일 박스**에서 메일을 가져와서 목적지 컴퓨터로 전송한다.
    - 메일을 수신할 때는 사용자 이름과 비밀번호를 이용한 사용자 인증(authentication)이 필요함. pop3프로토콜 사용
    1. 세션 시작을 통지한다
    2. 클라이언트가 사용자 이름을 통지하고 메일서버에 OK라는 확인 응답을 반환한다.
    3. 클라이언트가 비밀번호을 통지하고 메일서버에 OK라는 확인 응답을 반환한다.
    4. 클라이언트가 자신의 메일이 있는지 확인하고 메일서버는 있음이라는 확인 응답을 반환한다.
    5. 메일의 전송을 요청한다
    6. 세션 종료를 통지한다.